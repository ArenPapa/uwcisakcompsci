def verify_transactions(db_path):
    """
    Connects to the database, retrieves transactions, and verifies their hash signatures.
    """
    conn = sqlite3.connect(db_path)
    cursor = conn.cursor()
    
    # Fetch transaction data (assuming a table structure with id, sender_id, receiver_id, amount, and signature)
    cursor.execute("SELECT id, sender_id, receiver_id, amount, signature FROM transactions")
    transactions = cursor.fetchall()
    
    for transaction in transactions:
        tx_id, sender_id, receiver_id, amount, stored_signature = transaction
        computed_signature = generate_hash((tx_id, sender_id, receiver_id, amount))
        
        if computed_signature == stored_signature:
            print(f"Tx(id={tx_id}) Signature matches")
        else:
            print(f"Tx(id={tx_id}) Error signature")
    
    conn.close()

# Run the verification process
db_path = "bitcoin_exchange.db"
verify_transactions(db_path)
