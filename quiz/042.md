,,py

    import sqlite3
    import hashlib
    
    def verify_pbkdf2_signature(input_string, stored_signature):
        parts = stored_signature.split("$")
        if len(parts) != 5:
            return False  # Invalid format
    
        _, algo, iterations, salt, stored_hash = parts
    
        computed_hash = hashlib.pbkdf2_hmac(
            "sha256", input_string.encode(), salt.encode(), int(iterations)
        ).hex()
    
        return computed_hash == stored_hash
    
    def verify_signatures(db_path):
        conn = sqlite3.connect(db_path)
        cursor = conn.cursor()
        
        # Update the query to use the correct column 'signature'
        cursor.execute("SELECT id, signature FROM ledger")  # Querying the 'ledger' table and 'signature' column
        records = cursor.fetchall()
        
        for record_id, stored_signature in records:
            input_string = f"id {record_id}"  # Modify this if you need to include other fields for the signature
            
            if verify_pbkdf2_signature(input_string, stored_signature):
                print(f"Signature(id={record_id}) matches")
            else:
                print(f"Signature(id={record_id}) Error signature")
        
        conn.close()
    
    
    db_path = "bitcoin_exchange.db"
    verify_signatures(db_path)

![IMG_0655](https://github.com/user-attachments/assets/217a30c3-2a2b-4e69-844b-4e33683715ae)
